<p><a href="https://www.apple.com/ios/ios-13/features/">iOS 13</a> has finally been rolled out to the public, closely followed by 13.1. I’m sure you’ll be shipping your next app updates with it, but first, let’s go through a checklist of essential things.</p>

<ul>
  <li>The <strong>PencilKit</strong> Framework has released with iOS 13. It allows developers to easily integrate a drawing environment for hand-drawn content by taking input from an Apple Pencil or user’s fingers.</li>
  <li><strong>On Device Speech Recognition</strong> using <code class="language-plaintext highlighter-rouge">SFSpeechRecognizer</code> allows developers to do stuff like offline transcriptions, speech analysis and much more. This would certainly boost Voice-based AI applications.</li>
  <li>The <strong>SwiftUI</strong> framework has grabbed the most eyeballs this year. It lets you build cool and innovative user interfaces in a completely different way. You must be aware of this unless you’ve been living under a rock.</li>
  <li><strong>Combine</strong> is a Reactive Programming Framework.</li>
  <li><strong>RealityKit</strong> framework is used to simulate and render 3D content easily. Build even better AR apps!</li>
  <li><strong>Project Catalyst</strong> allows us to easily port iOS apps to macOS. Just tick the checkbox to add macOS as a target. This should work in Mac OS 10.15 and above.</li>
</ul>

<p>Moving on from the popular frameworks that are making noise these days, let’s dig into the important updates.</p>

<h3 id="view-controller-default-presentation-style">View Controller Default Presentation Style</h3>

<p>With iOS 13, Apple has changed the default presentation style of View Controllers to a modal sheet from fullscreen in iOS 12. A modal sheet is a card like a form sheet which can be dismissed by pulling it down. This can break your app’s flow if you don’t intend to shut view controllers in this way.</p>

<p><img src="/assets/screenshots/modal-presentation-style-ios13.png?raw=true" alt="View Controller Default Presentation Style" /></p>

<h4 id="i-want-full-screen-view-controllers"><strong>I want full-screen view controllers</strong></h4>

<p>Starting iOS 13, you’ll need to explicitly specify the presentation style if you want full screen as shown below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vc.modalPresentationStyle = .fullScreen 

let navigationController = UINavigationController(rootViewController: vc) navigationController.modalPresentationStyle = .fullScreen present(vc, animated: true)
</code></pre></div></div>

<p>To prevent the pull to dismiss gesture, add the following line of code:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vc.isModalInPresentation = true
</code></pre></div></div>

<p>You can even take more control over the swipe to dismiss on the modal sheets by using the newly added functions in <code class="language-plaintext highlighter-rouge">IAdaptivePresentationControllerDelegate</code> protocol:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">presentationControllerDidAttemptToDismiss</code> is called when <code class="language-plaintext highlighter-rouge">isModalInPresentation</code> is true and the user is still trying to dismiss by swiping down.</li>
  <li><code class="language-plaintext highlighter-rouge">presentationControllerWillDismiss</code> can be triggered when a user tries swiping the view controller up and down.</li>
  <li><code class="language-plaintext highlighter-rouge">presentationControllerDidDismiss</code></li>
  <li><code class="language-plaintext highlighter-rouge">presentationControllerShouldDismiss</code></li>
</ul>

<h3 id="uinavigationbar-large-title-stylechanges">UINavigationBar Large Title Style Changes</h3>

<p>Starting in iOS 13, UINavigationBar for large title style is no longer translucent. It’s now transparent.</p>

<p>We can change the style back to translucent like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let appearance = UINavigationBarAppearance() 
appearance.configureWithDefaultBackground() 
UINavigationBar.appearance().scrollEdgeAppearance = appearance
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">UINavigationBarAppearance</code> is the new class to customize the appearance.<br />
<code class="language-plaintext highlighter-rouge">UINavigationBar</code> consists of three built-in appearance types:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">standardAppearance</code></li>
  <li><code class="language-plaintext highlighter-rouge">compactAppearance</code></li>
  <li><code class="language-plaintext highlighter-rouge">scrollEdgeAppearance</code> for a large title navigation bar.</li>
</ul>

<h3 id="revamped-uisegmentedcontrol">Revamped UISegmentedControl</h3>

<p>The new UISegmentedControl has a 3d effect. But more importantly, <code class="language-plaintext highlighter-rouge">tintColor</code> property <em>no longer works</em> in iOS 13. Instead, we need to use <code class="language-plaintext highlighter-rouge">selectedSegmentTintColor</code> to change the background color of the selected segments.</p>

<p><img src="/assets/screenshots/Revamped-UISegmentedControl.png" alt="" /></p>

<h3 id="sf-symbols">SF Symbols</h3>

<p>Starting iOS 13, UIImage has got a new initializer, <code class="language-plaintext highlighter-rouge">systemName</code>. You can pass the system name as a string by looking up in the SF Symbols mac application, which contains more than 1000 system icons. You can download it <a href="https://developer.apple.com/design/resources/">here</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UIImage(systemName: trash.fill)
</code></pre></div></div>

<p><img src="/assets/screenshots/sf-symbols-ios13-apple-docs.png" alt="" /></p>

<h3 id="scenedelegate-for-multi-window-support">SceneDelegate For Multi-Window Support</h3>

<p>iPadOS brings multi-window support in the same app. Now when you create a new Xcode you’ll see a <code class="language-plaintext highlighter-rouge">SceneDelegate</code> file. This is for managing individual scenes (windows). So the AppDelegate’s UI related responsibilities are now taken over by SceneDelegate.</p>

<p>Lifecycle methods like <code class="language-plaintext highlighter-rouge">applicationDidBecomeActive</code> in the AppDelegate no longer work. Instead, SceneDelegate methods like<code class="language-plaintext highlighter-rouge">sceneDidBecomeActive</code> gets triggered now.</p>

<blockquote>
  <p>To get back the old behavior, remove the <code class="language-plaintext highlighter-rouge">Application Scene Manifest</code> entry from <code class="language-plaintext highlighter-rouge">info.plist</code> file and add the window property back in the<code class="language-plaintext highlighter-rouge">AppDelegate</code> .</p>
</blockquote>

<h3 id="new-contextmenus">New Context Menus</h3>

<p>Context Menus are a replacement for the Peek and Pop which worked on devices with 3D touch only.</p>

<p>Context menus, on the other hand, work on all devices. We can set menus, submenus as well as Preview the Target View Controller.</p>

<p>The menu is visible just above or below the preview.</p>

<p><img src="/assets/screenshots/contextmenu-ios13-apple-docs.png" alt="" /></p>

<p>To implement a context menu on collection/table view there’s a newly added function in the delegate that you need to override.</p>

<p>For collection view it is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>func collectionView(\_ collectionView: UICollectionView,   
contextMenuConfigurationForItemAt indexPath: IndexPath, point: CGPoint) -&gt; UIContextMenuConfiguration?
</code></pre></div></div>

<p>We can define our own <code class="language-plaintext highlighter-rouge">UIMenu</code> and assign actions to them.</p>

<p>To open the target view controller from the preview we need to implement the method:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>func collectionView(\_ collectionView: UICollectionView,   
willPerformPreviewActionForMenuWith configuration: UIContextMenuConfiguration,   
animator: UIContextMenuInteractionCommitAnimating)
</code></pre></div></div>

<h3 id="dark-mode-and-dynamiccolors">Dark Mode And Dynamic Colors</h3>

<p>We can customize the user interface to dark mode in iOS 13 using the <code class="language-plaintext highlighter-rouge">userInterfaceStyle</code> property, part of <code class="language-plaintext highlighter-rouge">traitCollection</code>.<br />
 Dynamic colors are now available and they can be adopted for dark or light mode. We can even assign our own set of color or dynamic image for <code class="language-plaintext highlighter-rouge">lightAppearance</code> and <code class="language-plaintext highlighter-rouge">darkAppearance</code>.</p>

<p>In order to opt-out of dark mode or lock the appearance to just one type we set the <code class="language-plaintext highlighter-rouge">UIUserInterfaceStyle</code> to Light/Dark in the info.plist file.</p>

<h3 id="sign-in-withapple">Sign In With Apple</h3>

<p><img src="/assets/screenshots/screenshot-sign-in-with-apple.png" alt="" /></p>

<p>Starting iOS 13, we can integrate Sign In With Apple button in our applications. It’s a secure and easy way to sign in and requires only the username and email address.</p>

<p>Moreover, the user can choose to hide their email address in the app.</p>

<p>To add a Sign In With Apple button in your app, just <code class="language-plaintext highlighter-rouge">import AuthenticationServices</code> and add the following code in your ViewController:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let button = ASAuthorizationAppleIDButton()
button.addTarget(self, action: #selector(handleAuthorization), for: .touchUpInside)          
self.view.addSubview(button)
</code></pre></div></div>

<p>You can then handle the authorization and verification part on the button click. Please note that this requires Xcode 11.</p>

<p><img src="/assets/screenshots/sign-in-with-apple-ios-button-screenshot.png" alt="" /></p>

<h3 id="vision-api-gets-a-core-mlboost">Vision API Gets a Core ML Boost</h3>

<p>The Vision API gets a boost by the inclusion of the <em>Document Camera View Controller</em>. Optical Character Recognition is much easier now thanks to the improved machine learning model. Moreover, Vision API now comes up with a <em>Pet Animal Classifier</em>. Yes, you don’t need a Core ML model for detecting a cat or a dog! Just use <code class="language-plaintext highlighter-rouge">VNRecognizeAnimalRequest</code> which is a part of <code class="language-plaintext highlighter-rouge">VNImageRequest</code>.</p>

<p><em>Did you know?</em></p>

<p><em>Files App on iOS 13 now has a built-in PDF Scanner. Earlier only the notes app had this. It uses the upgraded Vision API with Document Camera Controller Delegate.</em></p>

<h3 id="core-ml-3-on-device-personalisation">Core ML 3 On Device Personalisation</h3>

<p><img src="/assets/screenshots/coreml-on-device-from-wwdc19-demo.png" alt="" /></p>

<p>On Device Training Of Models is a key development in Core ML this year. Now you can train ML Models on the device itself.</p>

<p>Typically, this is used for updating the model for specific use cases. An updatable Core ML model is built using <code class="language-plaintext highlighter-rouge">coremltools</code> 3.0 and above.</p>

<p>There are significant updates to the NLP frameworks such as word embedding and much more in Core ML 3 this year.</p>

<p>That sums up most of the important points of iOS 13.</p>
